!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r,o,a=function(e,t){return{name:e,symbol:t}},i=(r=Array(9).fill(null),{returnBoard:function(){return r},getCell:o=function(e){return r[e]},setCell:function(e,t){return null===r[e]&&(r[e]=t,!0)},winningPositions:function(){return[[o(0),o(4),o(8)],[o(2),o(4),o(6)]].concat([[o(0),o(3),o(6)],[o(1),o(4),o(7)],[o(2),o(5),o(8)]]).concat([[o(0),o(1),o(2)],[o(3),o(4),o(5)],[o(6),o(7),o(8)]])},reset:function(){r=Array(9).fill(null)}});function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c,d,s,f,m=(f=function(e,t){return e.every((function(e){return e===t&&null!==e}))},{setPlayers:function(e){var t=l(e,2);c=t[0],d=t[1]},getPlayers:function(){return[c,d]},setBoard:function(e){s=e},switchPlayers:function(){var e=c;c=d,d=e},getCurrentPlayer:function(){return c},getBoard:function(){return s},gameOver:function(){return function(){for(var e=s.winningPositions(),t=0;t<e.length;t+=1)if(f(e[t],e[t][0]))return!0;return!1}()?"W":!s.returnBoard().some((function(e){return null===e}))&&"D"}});function y(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=document.querySelector(".container"),g=function(e){var t=p(e,2),n=t[0],r=t[1],o=a(n,"X"),i=a(r,"O");m.setPlayers([o,i])},S=function(e,t){t.forEach((function(t){e.removeChild(t)}))},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.querySelectorAll(".cell");!1===t&&g(e),m.setBoard(i),x(n)},E=function(){var e=document.querySelector(".container"),t=document.querySelector("#grid");t.classList.add("h-600");for(var n=0;n<=8;n+=1){var r=document.createElement("div");r.id=n,r.className="cell col s4",t.appendChild(r)}e.classList.add("pt-4"),e.appendChild(t)},L=function(e){var t=document.createElement("div");t.id="player_turn",e.appendChild(t)},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.querySelector("#grid");L(t);var n=document.querySelectorAll(".cell");t.classList.remove("teal","card-panel","z-depth-2","player-wrapper","flex-col"),e&&S(t,e),[0,3].forEach((function(e){return n[e].classList.add("first")})),[2,5].forEach((function(e){return n[e].classList.add("last")})),n[6].classList.add("first"),n[8].classList.add("last")},P=function(e){!function(e){e.addEventListener("submit",(function(t){t.preventDefault();var n=y(e.elements).slice(0,2).map((function(e){return e.value}));E();var r=document.querySelector("form"),o=document.querySelector("#title");w([r,o]),C(n)}))}(function(e){var t=document.querySelector("#grid"),n=document.querySelector("#title"),r=document.createElement("form"),o=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),l=document.createElement("input");return e.addEventListener("click",(function(){t.classList.add("player-wrapper"),t.removeChild(e),r.className="col s12",n.textContent="Enter your names:",o.className="row",a.className="input-field col s12",i.className="input-field col s12",l.type="submit",l.className="btn teal",l.id="submit",l.value="PLAY",a.innerHTML='<input id="x_name" placeholder="Name of Player X" value="Player X" type="text" class="validate">',i.innerHTML='<input id="o_name" placeholder="Name of Player O" value="Player O" type="text" class="validate">',o.appendChild(a),o.appendChild(i),o.appendChild(l),r.appendChild(o),t.appendChild(r)})),r}(e))},q=function(e){!function(e){var t=document.createElement("div"),n=document.createElement("h2"),r=document.createElement("button");t.classList.add("row"),t.id="grid",t.classList.add("card-panel"),t.classList.add("teal","lighten-4","z-depth-2","h-600","flex-col"),n.innerHTML="Welcome,<br><br>Click below to start",n.id="title",n.className="white-txt",r.className="btn",r.innerHTML="Start",r.id="start",t.appendChild(n),t.appendChild(r),e.appendChild(t),P(r)}(e)},A=function(){var e=document.querySelector("#grid"),t=function(e){var t=document.querySelector("h2"),n=document.createElement("h3");n.innerText="Would you like to play again?";var r=document.createElement("input"),o=document.createElement("input"),a=document.createElement("div");return a.className="btn-div",r.type="submit",r.id="yes",r.value="Yes",r.className="play-btn btn",o.type="submit",o.id="no",o.value="No",o.className="play-btn btn",e.appendChild(n),a.appendChild(r),a.appendChild(o),e.appendChild(a),[t,n,a]}(e),n=document.querySelector("#yes"),r=document.querySelector("#no");n.addEventListener("click",(function(){S(e,t),E(),w(),C([],!0)})),r.addEventListener("click",(function(){!function(){var e=document.querySelector(".container"),t=document.querySelector("#grid");S(e,[t]),q(e)}()}))},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.querySelector("#grid");t.removeChild(document.querySelector("#player_turn")),t.classList.add("teal","z-depth-2","h-600","flex-col");var n=document.createElement("h2");n.innerHTML=e?"The winner is ".concat(e):"It's a draw!",n.classList.add("white-txt"),t.appendChild(n)},j=function(e,t){e.innerHTML="<h4>It is ".concat(t,"'s turn.</h4>")},x=function(e){var t=document.querySelector("#player_turn");j(t,m.getCurrentPlayer().name),e.forEach((function(e){return e.addEventListener("click",(function(){if(m.getBoard().setCell(this.id,m.getCurrentPlayer().symbol)){this.innerHTML="O"===(n=m.getCurrentPlayer().symbol)?'<i class="material-icons symbol">radio_button_unchecked</i>':"X"===n?'<i class="material-icons symbol">clear</i>':void 0;var e=m.gameOver();e&&(!function(){var e=document.querySelector("#grid");document.querySelectorAll(".cell").forEach((function(t){return e.removeChild(t)}))}(),"W"===e?O(m.getCurrentPlayer().name):O(),m.getBoard().reset(),A()),e||(m.switchPlayers(),j(t,m.getCurrentPlayer().name))}var n}))}))};q(b)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbXBvbmVudHMvcGxheWVyLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9jb21wb25lbnRzL2JvYXJkLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9jb21wb25lbnRzL2dhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJncmlkIiwiZ2V0Q2VsbCIsIlBsYXllckZhY3RvcnkiLCJzeW1ib2wiLCJCb2FyZCIsIkFycmF5IiwiZmlsbCIsInJldHVybkJvYXJkIiwiaW5kZXgiLCJzZXRDZWxsIiwid2lubmluZ1Bvc2l0aW9ucyIsImNvbmNhdCIsInJlc2V0IiwiY3VycmVudFBsYXllciIsIm90aGVyUGxheWVyIiwiZ2FtZWJvYXJkIiwiaXNBbGxFcXVhbCIsIkdhbWUiLCJ2YWwiLCJldmVyeSIsIml0ZW0iLCJzZXRQbGF5ZXJzIiwicGxheWVycyIsImdldFBsYXllcnMiLCJzZXRCb2FyZCIsImJvYXJkIiwic3dpdGNoUGxheWVycyIsInRlbXAiLCJnZXRDdXJyZW50UGxheWVyIiwiZ2V0Qm9hcmQiLCJnYW1lT3ZlciIsInBvc2l0aW9uc0FyciIsImxlbmd0aCIsImlzV2lubmVyIiwic29tZSIsImNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInBsYXllclhOYW1lIiwicGxheWVyT05hbWUiLCJwbGF5ZXJYIiwicGxheWVyTyIsInJlbW92ZUhlbHBlciIsInBhcmVudCIsImNoaWxkcmVuIiwiZm9yRWFjaCIsImNoaWxkIiwicmVtb3ZlQ2hpbGQiLCJwbGF5IiwicmVwbGF5IiwiY2VsbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2hhbmdlQ2VsbHMiLCJjcmVhdGVHcmlkRE9NIiwicm9vdCIsImNsYXNzTGlzdCIsImFkZCIsImNlbGwiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJjbGFzc05hbWUiLCJhcHBlbmRDaGlsZCIsImRyYXdQbGF5ZXJUdXJuIiwicGxheWVyVHVybkRpdiIsImRyYXdHcmlkIiwicmVtb3ZlIiwiZ2V0U3RhcnRlZCIsInN0YXJ0IiwiZm9ybSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJlbGVtZW50cyIsInNsaWNlIiwibWFwIiwiZWxlbSIsImNyZWF0ZWRGb3JtIiwidGl0bGUiLCJldmVudExpc3RlbmVyIiwibWFpblJvdyIsInN1YlJvdyIsImlucHV0WCIsImlucHV0TyIsImlucHV0IiwidGV4dENvbnRlbnQiLCJ0eXBlIiwiaW5uZXJIVE1MIiwiY3JlYXRlUGxheWVyRm9ybSIsInJlbmRlciIsInJvdyIsImgyIiwic3RhcnRCdG4iLCJzdGFydFNjcmVlbiIsImFza1JlbWF0Y2giLCJjcmVhdGVkRWxlbWVudHMiLCJyZXN1bHRNc2ciLCJxdWVzdGlvbiIsImlubmVyVGV4dCIsImlucHV0MiIsImJ0bkRpdiIsImNyZWF0ZUFza1JlbWF0Y2hEb20iLCJ5ZXMiLCJubyIsImRpc3BsYXlSZXN1bHQiLCJ3aW5uZXIiLCJzZXRQbGF5ZXJUdXJuIiwiZGl2IiwicGxheWVyIiwidGhpcyIsInJlbW92ZUdyaWQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxH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UyxXQUNqQixJQUFNOUIsRUFBT29DLFNBQVNDLGNBQWMsU0FDdEJELFNBQVNlLGlCQUFpQixTQUNsQ04sU0FBUSxTQUFDWSxHQUFELE9BQVV6RCxFQUFLK0MsWUFBWVUsTUFXbkNvRCxHQUNpQixNQUFiL0UsRUFDRnlFLEVBQWN0RixFQUFLVyxtQkFBbUJyRCxNQUV0Q2dJLElBRUZ0RixFQUFLWSxXQUFXakIsUUFDaEJpRixLQUVHL0QsSUFDSGIsRUFBS1MsZ0JBQ0wrRSxFQUFjMUMsRUFBZTlDLEVBQUtXLG1CQUFtQnJELE9Bdk8zQyxJQUFDNEIsU0E2T25CcUYsRUFBT3JEIiwiZmlsZSI6ImFwcC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJjb25zdCBQbGF5ZXJGYWN0b3J5ID0gKG5hbWUsIHN5bWJvbCkgPT4gKHsgbmFtZSwgc3ltYm9sIH0pO1xuZXhwb3J0IGRlZmF1bHQgUGxheWVyRmFjdG9yeTtcbiIsImNvbnN0IEJvYXJkID0gKCgpID0+IHtcbiAgbGV0IGdyaWQgPSBBcnJheSg5KS5maWxsKG51bGwpO1xuXG4gIGNvbnN0IHJldHVybkJvYXJkID0gKCkgPT4gZ3JpZDtcblxuICBjb25zdCBnZXRDZWxsID0gKGluZGV4KSA9PiBncmlkW2luZGV4XTtcblxuICBjb25zdCBzZXRDZWxsID0gKGluZGV4LCB2YWx1ZSkgPT4ge1xuICAgIGlmIChncmlkW2luZGV4XSA9PT0gbnVsbCkge1xuICAgICAgZ3JpZFtpbmRleF0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgY29uc3QgcmVzZXQgPSAoKSA9PiB7XG4gICAgZ3JpZCA9IEFycmF5KDkpLmZpbGwobnVsbCk7XG4gIH07XG5cbiAgY29uc3QgZGlhZ29uYWxzID0gKCkgPT4ge1xuICAgIGNvbnN0IHRvcGxlZnQgPSBbZ2V0Q2VsbCgwKSwgZ2V0Q2VsbCg0KSwgZ2V0Q2VsbCg4KV07XG4gICAgY29uc3QgdG9wcmlnaHQgPSBbZ2V0Q2VsbCgyKSwgZ2V0Q2VsbCg0KSwgZ2V0Q2VsbCg2KV07XG4gICAgcmV0dXJuIFt0b3BsZWZ0LCB0b3ByaWdodF07XG4gIH07XG5cbiAgY29uc3Qgcm93cyA9ICgpID0+IHtcbiAgICBjb25zdCBmaXJzdCA9IFtnZXRDZWxsKDApLCBnZXRDZWxsKDEpLCBnZXRDZWxsKDIpXTtcbiAgICBjb25zdCBzZWNvbmQgPSBbZ2V0Q2VsbCgzKSwgZ2V0Q2VsbCg0KSwgZ2V0Q2VsbCg1KV07XG4gICAgY29uc3QgdGhpcmQgPSBbZ2V0Q2VsbCg2KSwgZ2V0Q2VsbCg3KSwgZ2V0Q2VsbCg4KV07XG4gICAgcmV0dXJuIFtmaXJzdCwgc2Vjb25kLCB0aGlyZF07XG4gIH07XG5cbiAgY29uc3QgY29sdW1ucyA9ICgpID0+IHtcbiAgICBjb25zdCBmaXJzdCA9IFtnZXRDZWxsKDApLCBnZXRDZWxsKDMpLCBnZXRDZWxsKDYpXTtcbiAgICBjb25zdCBzZWNvbmQgPSBbZ2V0Q2VsbCgxKSwgZ2V0Q2VsbCg0KSwgZ2V0Q2VsbCg3KV07XG4gICAgY29uc3QgdGhpcmQgPSBbZ2V0Q2VsbCgyKSwgZ2V0Q2VsbCg1KSwgZ2V0Q2VsbCg4KV07XG4gICAgcmV0dXJuIFtmaXJzdCwgc2Vjb25kLCB0aGlyZF07XG4gIH07XG5cbiAgY29uc3Qgd2lubmluZ1Bvc2l0aW9ucyA9ICgpID0+IHtcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBkaWFnb25hbHMoKS5jb25jYXQoY29sdW1ucygpKS5jb25jYXQocm93cygpKTtcbiAgICByZXR1cm4gcG9zaXRpb25zO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcmV0dXJuQm9hcmQsXG4gICAgZ2V0Q2VsbCxcbiAgICBzZXRDZWxsLFxuICAgIHdpbm5pbmdQb3NpdGlvbnMsXG4gICAgcmVzZXQsXG4gIH07XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBCb2FyZDtcbiIsImNvbnN0IEdhbWUgPSAoKCkgPT4ge1xuICBsZXQgY3VycmVudFBsYXllcjtcbiAgbGV0IG90aGVyUGxheWVyO1xuICBsZXQgZ2FtZWJvYXJkO1xuXG4gIGNvbnN0IHNldFBsYXllcnMgPSAocGxheWVycykgPT4ge1xuICAgIFtjdXJyZW50UGxheWVyLCBvdGhlclBsYXllcl0gPSBwbGF5ZXJzO1xuICB9O1xuXG4gIGNvbnN0IGdldFBsYXllcnMgPSAoKSA9PiBbY3VycmVudFBsYXllciwgb3RoZXJQbGF5ZXJdO1xuXG4gIGNvbnN0IHNldEJvYXJkID0gKGJvYXJkKSA9PiB7IGdhbWVib2FyZCA9IGJvYXJkOyB9O1xuXG4gIGNvbnN0IHN3aXRjaFBsYXllcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgdGVtcCA9IGN1cnJlbnRQbGF5ZXI7XG4gICAgY3VycmVudFBsYXllciA9IG90aGVyUGxheWVyO1xuICAgIG90aGVyUGxheWVyID0gdGVtcDtcbiAgfTtcblxuICBjb25zdCBnZXRDdXJyZW50UGxheWVyID0gKCkgPT4gY3VycmVudFBsYXllcjtcblxuICBjb25zdCBnZXRCb2FyZCA9ICgpID0+IGdhbWVib2FyZDtcblxuICBjb25zdCBpc0FsbEVxdWFsID0gKHdpbm5pbmdQb3NpdGlvbnMsIHZhbCkgPT4gd2lubmluZ1Bvc2l0aW9ucy5ldmVyeShcbiAgICAoaXRlbSkgPT4gaXRlbSA9PT0gdmFsICYmIGl0ZW0gIT09IG51bGwsXG4gICk7XG5cbiAgY29uc3QgaXNXaW5uZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgcG9zaXRpb25zQXJyID0gZ2FtZWJvYXJkLndpbm5pbmdQb3NpdGlvbnMoKTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcG9zaXRpb25zQXJyLmxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgICAgaWYgKGlzQWxsRXF1YWwocG9zaXRpb25zQXJyW2luZGV4XSwgcG9zaXRpb25zQXJyW2luZGV4XVswXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBjb25zdCBpc0RyYXcgPSAoKSA9PiB7XG4gICAgaWYgKGdhbWVib2FyZC5yZXR1cm5Cb2FyZCgpLnNvbWUoKGl0ZW0pID0+IGl0ZW0gPT09IG51bGwpKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgY29uc3QgZ2FtZU92ZXIgPSAoKSA9PiB7XG4gICAgaWYgKGlzV2lubmVyKCkpIHJldHVybiAnVyc7XG4gICAgaWYgKGlzRHJhdygpKSByZXR1cm4gJ0QnO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHNldFBsYXllcnMsXG4gICAgZ2V0UGxheWVycyxcbiAgICBzZXRCb2FyZCxcbiAgICBzd2l0Y2hQbGF5ZXJzLFxuICAgIGdldEN1cnJlbnRQbGF5ZXIsXG4gICAgZ2V0Qm9hcmQsXG4gICAgZ2FtZU92ZXIsXG4gIH07XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lO1xuIiwiaW1wb3J0IFBsYXllckZhY3RvcnkgZnJvbSAnLi9jb21wb25lbnRzL3BsYXllcic7XG5pbXBvcnQgQm9hcmQgZnJvbSAnLi9jb21wb25lbnRzL2JvYXJkJztcbmltcG9ydCBHYW1lIGZyb20gJy4vY29tcG9uZW50cy9nYW1lJztcblxuY29uc3QgeFN5bSA9ICdYJztcbmNvbnN0IG9TeW0gPSAnTyc7XG5jb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJyk7XG5cbmNvbnN0IHNldFBsYXllcnMgPSAocGxheWVycykgPT4ge1xuICBjb25zdCBbcGxheWVyWE5hbWUsIHBsYXllck9OYW1lXSA9IHBsYXllcnM7XG4gIGNvbnN0IHBsYXllclggPSBQbGF5ZXJGYWN0b3J5KHBsYXllclhOYW1lLCB4U3ltKTtcbiAgY29uc3QgcGxheWVyTyA9IFBsYXllckZhY3RvcnkocGxheWVyT05hbWUsIG9TeW0pO1xuICBHYW1lLnNldFBsYXllcnMoW3BsYXllclgsIHBsYXllck9dKTtcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuY29uc3QgZ2V0U3ltYm9sID0gKHN5bWJvbCkgPT4ge1xuICBpZiAoc3ltYm9sID09PSAnTycpIHJldHVybiAnPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBzeW1ib2xcIj5yYWRpb19idXR0b25fdW5jaGVja2VkPC9pPic7XG4gIGlmIChzeW1ib2wgPT09ICdYJykgcmV0dXJuICc8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIHN5bWJvbFwiPmNsZWFyPC9pPic7XG59O1xuXG5jb25zdCByZW1vdmVIZWxwZXIgPSAocGFyZW50LCBjaGlsZHJlbikgPT4ge1xuICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gIH0pO1xufTtcblxuY29uc3QgcGxheSA9IChwbGF5ZXJzLCByZXBsYXkgPSBmYWxzZSkgPT4ge1xuICBjb25zdCBjZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jZWxsJyk7XG4gIGlmIChyZXBsYXkgPT09IGZhbHNlKSB7XG4gICAgc2V0UGxheWVycyhwbGF5ZXJzKTtcbiAgfVxuICBHYW1lLnNldEJvYXJkKEJvYXJkKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gIGNoYW5nZUNlbGxzKGNlbGxzKTtcbn07XG5cbmNvbnN0IGNyZWF0ZUdyaWRET00gPSAoKSA9PiB7XG4gIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJyk7XG4gIGNvbnN0IGNlbGxzID0gODtcbiAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNncmlkJyk7XG4gIGdyaWQuY2xhc3NMaXN0LmFkZCgnaC02MDAnKTtcblxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDw9IGNlbGxzOyBpbmRleCArPSAxKSB7XG4gICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNlbGwuaWQgPSBpbmRleDtcbiAgICBjZWxsLmNsYXNzTmFtZSA9ICdjZWxsIGNvbCBzNCc7XG4gICAgZ3JpZC5hcHBlbmRDaGlsZChjZWxsKTtcbiAgfVxuICByb290LmNsYXNzTGlzdC5hZGQoJ3B0LTQnKTtcbiAgcm9vdC5hcHBlbmRDaGlsZChncmlkKTtcbn07XG5cblxuY29uc3QgZHJhd1BsYXllclR1cm4gPSAoZ3JpZCkgPT4ge1xuICBjb25zdCBwbGF5ZXJUdXJuRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHBsYXllclR1cm5EaXYuaWQgPSAncGxheWVyX3R1cm4nO1xuICBncmlkLmFwcGVuZENoaWxkKHBsYXllclR1cm5EaXYpO1xufTtcblxuY29uc3QgZHJhd0dyaWQgPSAoY2hpbGRyZW4gPSBudWxsKSA9PiB7XG4gIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ3JpZCcpO1xuICBkcmF3UGxheWVyVHVybihncmlkKTtcbiAgY29uc3QgY2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VsbCcpO1xuICBncmlkLmNsYXNzTGlzdC5yZW1vdmUoXG4gICAgJ3RlYWwnLFxuICAgICdjYXJkLXBhbmVsJyxcbiAgICAnei1kZXB0aC0yJyxcbiAgICAncGxheWVyLXdyYXBwZXInLFxuICAgICdmbGV4LWNvbCcsXG4gICk7XG4gIGlmIChjaGlsZHJlbikge1xuICAgIHJlbW92ZUhlbHBlcihncmlkLCBjaGlsZHJlbik7XG4gIH1cbiAgWzAsIDNdLmZvckVhY2goKGkpID0+IGNlbGxzW2ldLmNsYXNzTGlzdC5hZGQoJ2ZpcnN0JykpO1xuICBbMiwgNV0uZm9yRWFjaCgoaSkgPT4gY2VsbHNbaV0uY2xhc3NMaXN0LmFkZCgnbGFzdCcpKTtcbiAgY2VsbHNbNl0uY2xhc3NMaXN0LmFkZCgnZmlyc3QnKTtcbiAgY2VsbHNbOF0uY2xhc3NMaXN0LmFkZCgnbGFzdCcpO1xufTtcblxuY29uc3QgZ2V0UGxheWVycyA9IChmb3JtKSA9PiB7XG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgcGxheWVycyA9IFsuLi5mb3JtLmVsZW1lbnRzXS5zbGljZSgwLCAyKS5tYXAoKGVsZW0pID0+IGVsZW0udmFsdWUpO1xuICAgIGNyZWF0ZUdyaWRET00oKTtcbiAgICBjb25zdCBjcmVhdGVkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKTtcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0aXRsZScpO1xuICAgIGRyYXdHcmlkKFtjcmVhdGVkRm9ybSwgdGl0bGVdKTtcbiAgICBwbGF5KHBsYXllcnMpO1xuICB9KTtcbn07XG5cblxuY29uc3QgY3JlYXRlUGxheWVyRm9ybSA9IChldmVudExpc3RlbmVyKSA9PiB7XG4gIGNvbnN0IG1haW5Sb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ3JpZCcpO1xuICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0aXRsZScpO1xuICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICBjb25zdCBzdWJSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29uc3QgaW5wdXRYID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnN0IGlucHV0TyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGV2ZW50TGlzdGVuZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbWFpblJvdy5jbGFzc0xpc3QuYWRkKCdwbGF5ZXItd3JhcHBlcicpO1xuICAgIG1haW5Sb3cucmVtb3ZlQ2hpbGQoZXZlbnRMaXN0ZW5lcik7XG4gICAgZm9ybS5jbGFzc05hbWUgPSAnY29sIHMxMic7XG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSAnRW50ZXIgeW91ciBuYW1lczonO1xuICAgIHN1YlJvdy5jbGFzc05hbWUgPSAncm93JztcbiAgICBpbnB1dFguY2xhc3NOYW1lID0gJ2lucHV0LWZpZWxkIGNvbCBzMTInO1xuICAgIGlucHV0Ty5jbGFzc05hbWUgPSAnaW5wdXQtZmllbGQgY29sIHMxMic7XG4gICAgaW5wdXQudHlwZSA9ICdzdWJtaXQnO1xuICAgIGlucHV0LmNsYXNzTmFtZSA9ICdidG4gdGVhbCc7XG4gICAgaW5wdXQuaWQgPSAnc3VibWl0JztcbiAgICBpbnB1dC52YWx1ZSA9ICdQTEFZJztcbiAgICBpbnB1dFguaW5uZXJIVE1MID0gJzxpbnB1dCBpZD1cInhfbmFtZVwiIHBsYWNlaG9sZGVyPVwiTmFtZSBvZiBQbGF5ZXIgWFwiIHZhbHVlPVwiUGxheWVyIFhcIiB0eXBlPVwidGV4dFwiIGNsYXNzPVwidmFsaWRhdGVcIj4nO1xuICAgIGlucHV0Ty5pbm5lckhUTUwgPSAnPGlucHV0IGlkPVwib19uYW1lXCIgcGxhY2Vob2xkZXI9XCJOYW1lIG9mIFBsYXllciBPXCIgdmFsdWU9XCJQbGF5ZXIgT1wiIHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJ2YWxpZGF0ZVwiPic7XG4gICAgc3ViUm93LmFwcGVuZENoaWxkKGlucHV0WCk7XG4gICAgc3ViUm93LmFwcGVuZENoaWxkKGlucHV0Tyk7XG4gICAgc3ViUm93LmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICBmb3JtLmFwcGVuZENoaWxkKHN1YlJvdyk7XG4gICAgbWFpblJvdy5hcHBlbmRDaGlsZChmb3JtKTtcbiAgfSk7XG4gIHJldHVybiBmb3JtO1xufTtcblxuY29uc3QgZ2V0U3RhcnRlZCA9IChzdGFydCkgPT4ge1xuICBjb25zdCBmb3JtID0gY3JlYXRlUGxheWVyRm9ybShzdGFydCk7XG4gIGdldFBsYXllcnMoZm9ybSk7XG59O1xuXG5jb25zdCBzdGFydFNjcmVlbiA9IChyb290KSA9PiB7XG4gIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBoMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gIGNvbnN0IHN0YXJ0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIHJvdy5jbGFzc0xpc3QuYWRkKCdyb3cnKTtcbiAgcm93LmlkID0gJ2dyaWQnO1xuICByb3cuY2xhc3NMaXN0LmFkZCgnY2FyZC1wYW5lbCcpO1xuICByb3cuY2xhc3NMaXN0LmFkZCgndGVhbCcsICdsaWdodGVuLTQnLCAnei1kZXB0aC0yJywgJ2gtNjAwJywgJ2ZsZXgtY29sJyk7XG4gIGgyLmlubmVySFRNTCA9ICdXZWxjb21lLDxicj48YnI+Q2xpY2sgYmVsb3cgdG8gc3RhcnQnO1xuICBoMi5pZCA9ICd0aXRsZSc7XG4gIGgyLmNsYXNzTmFtZSA9ICd3aGl0ZS10eHQnO1xuICBzdGFydEJ0bi5jbGFzc05hbWUgPSAnYnRuJztcbiAgc3RhcnRCdG4uaW5uZXJIVE1MID0gJ1N0YXJ0JztcbiAgc3RhcnRCdG4uaWQgPSAnc3RhcnQnO1xuICByb3cuYXBwZW5kQ2hpbGQoaDIpO1xuICByb3cuYXBwZW5kQ2hpbGQoc3RhcnRCdG4pO1xuICByb290LmFwcGVuZENoaWxkKHJvdyk7XG4gIGdldFN0YXJ0ZWQoc3RhcnRCdG4pO1xufTtcblxuY29uc3QgcmVuZGVyID0gKHJvb3QpID0+IHtcbiAgc3RhcnRTY3JlZW4ocm9vdCk7XG59O1xuXG5jb25zdCByZXNldCA9ICgpID0+IHtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpO1xuICBjb25zdCBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dyaWQnKTtcbiAgcmVtb3ZlSGVscGVyKGNvbnRhaW5lciwgW2dyaWRdKTtcbiAgcmVuZGVyKGNvbnRhaW5lcik7XG59O1xuXG5jb25zdCBjcmVhdGVBc2tSZW1hdGNoRG9tID0gKGdyaWQpID0+IHtcbiAgY29uc3QgcmVzdWx0TXNnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaDInKTtcbiAgY29uc3QgcXVlc3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuXG4gIHF1ZXN0aW9uLmlubmVyVGV4dCA9ICdXb3VsZCB5b3UgbGlrZSB0byBwbGF5IGFnYWluPyc7XG4gIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgY29uc3QgaW5wdXQyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgY29uc3QgYnRuRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGJ0bkRpdi5jbGFzc05hbWUgPSAnYnRuLWRpdic7XG4gIGlucHV0LnR5cGUgPSAnc3VibWl0JztcbiAgaW5wdXQuaWQgPSAneWVzJztcbiAgaW5wdXQudmFsdWUgPSAnWWVzJztcbiAgaW5wdXQuY2xhc3NOYW1lID0gJ3BsYXktYnRuIGJ0bic7XG4gIGlucHV0Mi50eXBlID0gJ3N1Ym1pdCc7XG4gIGlucHV0Mi5pZCA9ICdubyc7XG4gIGlucHV0Mi52YWx1ZSA9ICdObyc7XG4gIGlucHV0Mi5jbGFzc05hbWUgPSAncGxheS1idG4gYnRuJztcbiAgZ3JpZC5hcHBlbmRDaGlsZChxdWVzdGlvbik7XG4gIGJ0bkRpdi5hcHBlbmRDaGlsZChpbnB1dCk7XG4gIGJ0bkRpdi5hcHBlbmRDaGlsZChpbnB1dDIpO1xuICBncmlkLmFwcGVuZENoaWxkKGJ0bkRpdik7XG4gIHJldHVybiBbcmVzdWx0TXNnLCBxdWVzdGlvbiwgYnRuRGl2XTtcbn07XG5cbmNvbnN0IHJlbWF0Y2ggPSAoKSA9PiB7XG4gIGNyZWF0ZUdyaWRET00oKTtcbiAgZHJhd0dyaWQoKTtcbiAgcGxheShbXSwgdHJ1ZSk7XG59O1xuXG5jb25zdCBhc2tSZW1hdGNoID0gKCkgPT4ge1xuICBjb25zdCBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dyaWQnKTtcbiAgY29uc3QgY3JlYXRlZEVsZW1lbnRzID0gY3JlYXRlQXNrUmVtYXRjaERvbShncmlkKTtcbiAgY29uc3QgeWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3llcycpO1xuICBjb25zdCBubyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNubycpO1xuICB5ZXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcmVtb3ZlSGVscGVyKGdyaWQsIGNyZWF0ZWRFbGVtZW50cyk7XG4gICAgcmVtYXRjaCgpO1xuICB9KTtcbiAgbm8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcmVzZXQoKTtcbiAgfSk7XG59O1xuXG5jb25zdCBkaXNwbGF5UmVzdWx0ID0gKHdpbm5lciA9IG51bGwpID0+IHtcbiAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNncmlkJyk7XG4gIGdyaWQucmVtb3ZlQ2hpbGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BsYXllcl90dXJuJykpO1xuICBncmlkLmNsYXNzTGlzdC5hZGQoJ3RlYWwnLCAnei1kZXB0aC0yJywgJ2gtNjAwJywgJ2ZsZXgtY29sJyk7XG4gIGNvbnN0IGgyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgaWYgKHdpbm5lcikge1xuICAgIGgyLmlubmVySFRNTCA9IGBUaGUgd2lubmVyIGlzICR7d2lubmVyfWA7XG4gIH0gZWxzZSB7XG4gICAgaDIuaW5uZXJIVE1MID0gXCJJdCdzIGEgZHJhdyFcIjtcbiAgfVxuICBoMi5jbGFzc0xpc3QuYWRkKCd3aGl0ZS10eHQnKTtcbiAgZ3JpZC5hcHBlbmRDaGlsZChoMik7XG59O1xuXG5jb25zdCBzZXRQbGF5ZXJUdXJuID0gKGRpdiwgcGxheWVyKSA9PiB7XG4gIGRpdi5pbm5lckhUTUwgPSBgPGg0Pkl0IGlzICR7cGxheWVyfSdzIHR1cm4uPC9oND5gO1xufTtcblxuY29uc3QgcmVtb3ZlR3JpZCA9ICgpID0+IHtcbiAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNncmlkJyk7XG4gIGNvbnN0IGNlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNlbGwnKTtcbiAgY2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4gZ3JpZC5yZW1vdmVDaGlsZChjZWxsKSk7XG59O1xuXG5jb25zdCBjaGFuZ2VDZWxscyA9IChjZWxscykgPT4ge1xuICBjb25zdCBwbGF5ZXJUdXJuRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BsYXllcl90dXJuJyk7XG4gIHNldFBsYXllclR1cm4ocGxheWVyVHVybkRpdiwgR2FtZS5nZXRDdXJyZW50UGxheWVyKCkubmFtZSk7XG4gIGNlbGxzLmZvckVhY2goKGNlbGwpID0+IGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKEdhbWUuZ2V0Qm9hcmQoKS5zZXRDZWxsKHRoaXMuaWQsIEdhbWUuZ2V0Q3VycmVudFBsYXllcigpLnN5bWJvbCkpIHtcbiAgICAgIHRoaXMuaW5uZXJIVE1MID0gZ2V0U3ltYm9sKEdhbWUuZ2V0Q3VycmVudFBsYXllcigpLnN5bWJvbCk7XG4gICAgICBjb25zdCBnYW1lT3ZlciA9IEdhbWUuZ2FtZU92ZXIoKTtcbiAgICAgIGlmIChnYW1lT3Zlcikge1xuICAgICAgICByZW1vdmVHcmlkKCk7XG4gICAgICAgIGlmIChnYW1lT3ZlciA9PT0gJ1cnKSB7XG4gICAgICAgICAgZGlzcGxheVJlc3VsdChHYW1lLmdldEN1cnJlbnRQbGF5ZXIoKS5uYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaXNwbGF5UmVzdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgR2FtZS5nZXRCb2FyZCgpLnJlc2V0KCk7XG4gICAgICAgIGFza1JlbWF0Y2goKTtcbiAgICAgIH1cbiAgICAgIGlmICghZ2FtZU92ZXIpIHtcbiAgICAgICAgR2FtZS5zd2l0Y2hQbGF5ZXJzKCk7XG4gICAgICAgIHNldFBsYXllclR1cm4ocGxheWVyVHVybkRpdiwgR2FtZS5nZXRDdXJyZW50UGxheWVyKCkubmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9KSk7XG59O1xuXG5yZW5kZXIoY29udGFpbmVyKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=